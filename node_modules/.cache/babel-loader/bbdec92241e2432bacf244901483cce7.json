{"ast":null,"code":"var _jsxFileName = \"/Users/victorchen/Desktop/react-test/my-app/src/components/Map.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport { Key } from \"./Key\";\nimport styled from \"styled-components\";\nimport logo from \"../imge/logo.png\";\nimport firebase from \"firebase\";\nimport { InfoWindow } from \"@react-google-maps/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledInfoHeader = styled.h2`\n  color: #3264a8;\n  font-family: sans-serif;\n  font-weight: bold;\n  text-align: center;\n  font-size: 15px;\n`;\n_c = StyledInfoHeader;\nconst StyledInfoRating = styled.h3`\n  color: #b31010;\n  font-family: sans-serif;\n  font-weight: bold;\n  text-align: center;\n`;\n_c2 = StyledInfoRating;\nconst Container = styled.div`\n  width: 100%;\n  height: 100vmin;\n`; // Map\n\n_c3 = Container;\n\nconst SimpleMap = props => {\n  _s();\n\n  const [selected, setselected] = React.useState(null);\n\n  const handleApiLoaded = (map, maps) => {\n    // use map and maps objects\n    console.log(\"載入完成!\"); // 印出「載入完成」\n  };\n\n  const [places, setPlaces] = useState([]);\n\n  const TenTMarker = ({\n    icon,\n    text\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"img\", {\n      style: {\n        height: \"50px\",\n        width: \"50px\"\n      },\n      src: logo,\n      alt: \"logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n\n  React.useEffect(() => {\n    firebase.firestore().collection(\"product\").onSnapshot(collectionSnapshot => {\n      const data = collectionSnapshot.docs.map(docSnapshot => {\n        const id = docSnapshot.id;\n        return { ...docSnapshot.data(),\n          id\n        };\n      });\n      setPlaces(data);\n      console.log(data);\n    });\n  }, []);\n  return (\n    /*#__PURE__*/\n    // Important! Always set the container height explicitly\n    _jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(GoogleMapReact, {\n        bootstrapURLKeys: {\n          key: Key\n        },\n        defaultCenter: props.center,\n        defaultZoom: props.zoom,\n        yesIWantToUseGoogleMapApiInternals: true // 設定為 true\n        ,\n        onGoogleApiLoaded: ({\n          map,\n          maps\n        }) => handleApiLoaded(map, maps) // 載入完成後執行\n        ,\n        children: [places.map(data => /*#__PURE__*/_jsxDEV(TenTMarker // key={item.place_id}\n        , {\n          lat: data.lat,\n          lng: data.lng // placeId={item.place_id}\n          ,\n          onClick: () => {\n            console.log(\"hi\"); // setselected(data);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)), selected ? /*#__PURE__*/_jsxDEV(InfoWindow, {\n          position: {\n            lat: selected.data.lat,\n            lng: selected.data.lng\n          },\n          onCloseClick: () => {\n            setselected(null);\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(StyledInfoHeader, {\n              children: selected.data.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledInfoRating, {\n              children: [\" \", \"\\u2B50 \", selected.data.stars, \" \\uD83D\\uDCCD \", selected.data.address]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }, this)\n  );\n}; // 由於改寫成 functional component，故另外設定 defaultProps\n\n\n_s(SimpleMap, \"HjMVlbTQRIjI4JGf6kQMlTqdW0k=\");\n\n_c4 = SimpleMap;\nSimpleMap.defaultProps = {\n  center: {\n    lat: 23.96363430162278,\n    lng: 120.97561230851146\n  },\n  zoom: 8\n}; // App\n\nfunction Map() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(SimpleMap, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 116,\n    columnNumber: 5\n  }, this);\n}\n\n_c5 = Map;\nexport default Map;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"StyledInfoHeader\");\n$RefreshReg$(_c2, \"StyledInfoRating\");\n$RefreshReg$(_c3, \"Container\");\n$RefreshReg$(_c4, \"SimpleMap\");\n$RefreshReg$(_c5, \"Map\");","map":{"version":3,"sources":["/Users/victorchen/Desktop/react-test/my-app/src/components/Map.js"],"names":["React","useState","GoogleMapReact","Key","styled","logo","firebase","InfoWindow","StyledInfoHeader","h2","StyledInfoRating","h3","Container","div","SimpleMap","props","selected","setselected","handleApiLoaded","map","maps","console","log","places","setPlaces","TenTMarker","icon","text","height","width","useEffect","firestore","collection","onSnapshot","collectionSnapshot","data","docs","docSnapshot","id","key","center","zoom","lat","lng","name","stars","address","defaultProps","Map"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport GoogleMapReact from \"google-map-react\";\nimport { Key } from \"./Key\";\nimport styled from \"styled-components\";\nimport logo from \"../imge/logo.png\";\nimport firebase from \"firebase\";\nimport { InfoWindow } from \"@react-google-maps/api\";\n\nconst StyledInfoHeader = styled.h2`\n  color: #3264a8;\n  font-family: sans-serif;\n  font-weight: bold;\n  text-align: center;\n  font-size: 15px;\n`;\n\nconst StyledInfoRating = styled.h3`\n  color: #b31010;\n  font-family: sans-serif;\n  font-weight: bold;\n  text-align: center;\n`;\n\nconst Container = styled.div`\n  width: 100%;\n  height: 100vmin;\n`;\n\n// Map\nconst SimpleMap = (props) => {\n  const [selected, setselected] = React.useState(null);\n  const handleApiLoaded = (map, maps) => {\n    // use map and maps objects\n    console.log(\"載入完成!\"); // 印出「載入完成」\n  };\n  const [places, setPlaces] = useState([]);\n  const TenTMarker = ({ icon, text }) => (\n    <div>\n      <img style={{ height: \"50px\", width: \"50px\" }} src={logo} alt=\"logo\" />\n    </div>\n  );\n\n  React.useEffect(() => {\n    firebase\n      .firestore()\n      .collection(\"product\")\n      .onSnapshot((collectionSnapshot) => {\n        const data = collectionSnapshot.docs.map((docSnapshot) => {\n          const id = docSnapshot.id;\n          return { ...docSnapshot.data(), id };\n        });\n        setPlaces(data);\n        console.log(data);\n      });\n  }, []);\n\n  return (\n    // Important! Always set the container height explicitly\n    <Container>\n      {/* <div style={{ height: \"100%\", width: \"100%\" }}> */}\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: Key }}\n        defaultCenter={props.center}\n        defaultZoom={props.zoom}\n        yesIWantToUseGoogleMapApiInternals // 設定為 true\n        onGoogleApiLoaded={({ map, maps }) => handleApiLoaded(map, maps)} // 載入完成後執行\n      >\n        {places.map((data) => (\n          <TenTMarker\n            // key={item.place_id}\n            lat={data.lat}\n            lng={data.lng}\n            // placeId={item.place_id}\n            onClick={() => {\n              console.log(\"hi\");\n              // setselected(data);\n            }}\n          />\n        ))}\n        {selected ? (\n          <InfoWindow\n            position={{\n              lat: selected.data.lat,\n              lng: selected.data.lng,\n            }}\n            onCloseClick={() => {\n              setselected(null);\n            }}\n          >\n            <div>\n              <StyledInfoHeader>{selected.data.name}</StyledInfoHeader>\n              <StyledInfoRating>\n                {\" \"}\n                ⭐ {selected.data.stars} 📍 {selected.data.address}\n              </StyledInfoRating>\n            </div>\n          </InfoWindow>\n        ) : null}\n      </GoogleMapReact>\n    </Container>\n  );\n};\n\n// 由於改寫成 functional component，故另外設定 defaultProps\nSimpleMap.defaultProps = {\n  center: {\n    lat: 23.96363430162278,\n    lng: 120.97561230851146,\n  },\n  zoom: 8,\n};\n\n// App\nfunction Map() {\n  return (\n    <div className=\"App\">\n      <SimpleMap />\n    </div>\n  );\n}\n\nexport default Map;\n"]},"metadata":{},"sourceType":"module"}