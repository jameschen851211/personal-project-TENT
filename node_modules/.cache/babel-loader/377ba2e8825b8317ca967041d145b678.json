{"ast":null,"code":"import _toConsumableArray from\"/Users/victorchen/Desktop/react-test/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/victorchen/Desktop/react-test/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import\"./TripsCard.css\";import p9 from\"../imge/img-9.jpeg\";import PopupButton from\"./PopupButton\";import firebase from\"firebase\";// import TripsCardsImage from \"./TripsCardsImage\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TripsCard(){var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),itemData=_React$useState2[0],setItemData=_React$useState2[1];React.useEffect(function(){// console.log(firebase.auth().currentUser.uid);\nfirebase.firestore().collection(\"successfullyOrder\").where(\"uid\",\"==\",firebase.auth().currentUser.uid).get().then(function(snapshot){console.log(snapshot);snapshot.forEach(function(doc){var data=doc.data();setItemData(function(itemData){return[].concat(_toConsumableArray(itemData),[data]);});console.log(itemData);});});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"trips-cards\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Trips\"}),/*#__PURE__*/_jsx(\"div\",{calssname:\"trips-cards-wrapper\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"trips-cards-items\",children:itemData.map(function(data,index){return/*#__PURE__*/_jsx(\"li\",{className:\"trips__cards__item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"trips__cards__item__link\",children:[/*#__PURE__*/_jsx(\"figure\",{className:\"trips__cards__item__pic-wrap\",children:/*#__PURE__*/_jsx(\"img\",{className:\"trips__cards__item__img\",alt:\"d\",src:data.imageURL})}),/*#__PURE__*/_jsxs(\"div\",{className:\"trips__cards__item__info\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"trips__cards__item__text\",children:data.name}),/*#__PURE__*/_jsxs(\"h5\",{className:\"trips__cards__item__date\",children:[data.startDate.toDate().toLocaleDateString(),\"-\",data.endDate.toDate().toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"h5\",{className:\"trips__cards__item__date\",children:[data.count,\"\\u4F4D\\u623F\\u5BA2\"]})]}),/*#__PURE__*/_jsx(PopupButton,{itemID:data.itemID})]})},index);})})})]});}export default TripsCard;","map":{"version":3,"sources":["/Users/victorchen/Desktop/react-test/my-app/src/components/TripsCard.js"],"names":["React","p9","PopupButton","firebase","TripsCard","useState","itemData","setItemData","useEffect","firestore","collection","where","auth","currentUser","uid","get","then","snapshot","console","log","forEach","doc","data","map","index","imageURL","name","startDate","toDate","toLocaleDateString","endDate","count","itemID"],"mappings":"oQAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,EAAP,KAAe,oBAAf,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA;wFAEA,QAASC,CAAAA,SAAT,EAAqB,CACnB,oBAAgCJ,KAAK,CAACK,QAAN,CAAe,EAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBAEAP,KAAK,CAACQ,SAAN,CAAgB,UAAM,CACpB;AACAL,QAAQ,CACLM,SADH,GAEGC,UAFH,CAEc,mBAFd,EAGGC,KAHH,CAGS,KAHT,CAGgB,IAHhB,CAGsBR,QAAQ,CAACS,IAAT,GAAgBC,WAAhB,CAA4BC,GAHlD,EAIGC,GAJH,GAKGC,IALH,CAKQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAA,QAAQ,CAACG,OAAT,CAAiB,SAACC,GAAD,CAAS,CACxB,GAAMC,CAAAA,IAAI,CAAGD,GAAG,CAACC,IAAJ,EAAb,CACAf,WAAW,CAAC,SAACD,QAAD,qCAAkBA,QAAlB,GAA4BgB,IAA5B,IAAD,CAAX,CACAJ,OAAO,CAACC,GAAR,CAAYb,QAAZ,EACD,CAJD,EAKD,CAZH,EAaD,CAfD,CAeG,EAfH,EAiBA,mBACE,aAAK,SAAS,CAAC,aAAf,wBACE,6BADF,cAEE,YAAK,SAAS,CAAC,qBAAf,uBACE,WAAI,SAAS,CAAC,mBAAd,UACGA,QAAQ,CAACiB,GAAT,CAAa,SAACD,IAAD,CAAOE,KAAP,CAAiB,CAC7B,mBACE,WAAI,SAAS,CAAC,oBAAd,uBACE,aAAK,SAAS,CAAC,0BAAf,wBACE,eAAQ,SAAS,CAAC,8BAAlB,uBAEE,YACE,SAAS,CAAC,yBADZ,CAEE,GAAG,CAAC,GAFN,CAGE,GAAG,CAAEF,IAAI,CAACG,QAHZ,EAFF,EADF,cASE,aAAK,SAAS,CAAC,0BAAf,wBACE,WAAI,SAAS,CAAC,0BAAd,UAA0CH,IAAI,CAACI,IAA/C,EADF,cAEE,YAAI,SAAS,CAAC,0BAAd,WACGJ,IAAI,CAACK,SAAL,CAAeC,MAAf,GAAwBC,kBAAxB,EADH,KAEGP,IAAI,CAACQ,OAAL,CAAaF,MAAb,GAAsBC,kBAAtB,EAFH,GAFF,cAOE,YAAI,SAAS,CAAC,0BAAd,WACGP,IAAI,CAACS,KADR,wBAPF,GATF,cAoBE,KAAC,WAAD,EAAa,MAAM,CAAET,IAAI,CAACU,MAA1B,EApBF,GADF,EAAwCR,KAAxC,CADF,CA0BD,CA3BA,CADH,EADF,EAFF,GADF,CAqCD,CAED,cAAepB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport \"./TripsCard.css\";\nimport p9 from \"../imge/img-9.jpeg\";\nimport PopupButton from \"./PopupButton\";\nimport firebase from \"firebase\";\n// import TripsCardsImage from \"./TripsCardsImage\";\n\nfunction TripsCard() {\n  const [itemData, setItemData] = React.useState([]);\n\n  React.useEffect(() => {\n    // console.log(firebase.auth().currentUser.uid);\n    firebase\n      .firestore()\n      .collection(\"successfullyOrder\")\n      .where(\"uid\", \"==\", firebase.auth().currentUser.uid)\n      .get()\n      .then((snapshot) => {\n        console.log(snapshot);\n        snapshot.forEach((doc) => {\n          const data = doc.data();\n          setItemData((itemData) => [...itemData, data]);\n          console.log(itemData);\n        });\n      });\n  }, []);\n\n  return (\n    <div className=\"trips-cards\">\n      <h1>Trips</h1>\n      <div calssname=\"trips-cards-wrapper\">\n        <ul className=\"trips-cards-items\">\n          {itemData.map((data, index) => {\n            return (\n              <li className=\"trips__cards__item\" key={index}>\n                <div className=\"trips__cards__item__link\">\n                  <figure className=\"trips__cards__item__pic-wrap\">\n                    {/* <TripsCardsImage data={data} /> */}\n                    <img\n                      className=\"trips__cards__item__img\"\n                      alt=\"d\"\n                      src={data.imageURL}\n                    />\n                  </figure>\n                  <div className=\"trips__cards__item__info\">\n                    <h4 className=\"trips__cards__item__text\">{data.name}</h4>\n                    <h5 className=\"trips__cards__item__date\">\n                      {data.startDate.toDate().toLocaleDateString()}-\n                      {data.endDate.toDate().toLocaleDateString()}\n                    </h5>\n\n                    <h5 className=\"trips__cards__item__date\">\n                      {data.count}位房客\n                    </h5>\n                  </div>\n                  <PopupButton itemID={data.itemID} />\n                </div>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default TripsCard;\n"]},"metadata":{},"sourceType":"module"}