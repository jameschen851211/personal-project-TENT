{"ast":null,"code":"var _jsxFileName = \"/Users/victorchen/Desktop/react-test/my-app/src/components/RoomDetail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./RoomDetail.css\";\nimport { useParams, useRouteMatch, useHistory } from \"react-router-dom\";\nimport MapProductDetail from \"./MapProductDetail\";\nimport firebase from \"firebase\";\nimport styled from \"styled-components\";\nimport { BsFillHeartFill } from \"react-icons/bs\";\nimport DateRangePickerExample from \"./DateRangePickExample\";\nimport CountNumber from \"./\bCountNumber\";\nimport Swal from \"sweetalert2/dist/sweetalert2.js\";\nimport NativeReviewer from \"../imge/tent.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Like = styled.button`\n  border: none;\n  padding-right: 10px;\n  padding-left: 10px;\n  padding-top: 8px;\n  border-radius: 50%;\n  font-size: 20px;\n  margin-left: 20px;\n  cursor: pointer;\n`;\n_c = Like;\nconst CuntDate = styled.div`\n  margin-top: 20px;\n`;\n_c2 = CuntDate;\nconst InstantBook = styled.button`\n  color: #00bfac;\n  background: white;\n\n  /* justify-content: center; */\n  position: relative;\n  border: 1px solid #00bfac;\n  width: 293px;\n\n  border-radius: 5px;\n  font-size: 15px;\n  font-weight: 700;\n  height: 50px;\n  margin: 20px 30px;\n  cursor: pointer;\n  &:hover {\n    border: 1px solid #00bfac;\n    background: #00bfac;\n    color: white;\n  }\n`;\n_c3 = InstantBook;\nconst RoomsDetailName = styled.div`\n  font-size: 30px;\n  font-family: \"Montserrat\", sans-serif;\n  font-weight: 500;\n  width: 100%;\n`;\n_c4 = RoomsDetailName;\nconst RoomsDetailBox = styled.div`\n  margin: 50px;\n  padding: 10px;\n`;\n_c5 = RoomsDetailBox;\nconst RoomsDetailImage = styled.img`\n  width: 88%;\n  height: 450px;\n  margin: 5px;\n  object-fit: cover;\n  border-radius: 7px;\n  margin-right: 10px;\n`;\n_c6 = RoomsDetailImage;\nconst RoomsDetailStars = styled.div`\n  color: black;\n  padding: 10px 0;\n  font-weight: 500;\n`;\n_c7 = RoomsDetailStars;\nconst RoomsDetailAddress = styled.div`\n  color: rgb(151, 145, 145);\n  padding: 10px 0;\n  margin-top: -2px;\n  margin-left: 10px;\n`;\n_c8 = RoomsDetailAddress;\nconst RoomsOwnerName = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  font-weight: 500;\n  color: gray;\n`;\n_c9 = RoomsOwnerName;\nconst RoomsOwnerIntroduce = styled.div`\n  font-size: 15px;\n  width: 90%;\n  margin-top: 10px;\n`;\n_c10 = RoomsOwnerIntroduce;\nconst RoomsCheckBox = styled.div`\n  margin: 5px 150px 10px 30px;\n  border-radius: 12px;\n  box-shadow: rgb(0 0 0 / 12%) 0px 6px 16px;\n  border-style: solid;\n  border: 1px solid rgb(221, 221, 221);\n  width: 350px;\n  height: 320px;\n`;\n_c11 = RoomsCheckBox;\nconst RoomsBoxPrice = styled.div`\n  font-size: 20px;\n  font-weight: 600;\n  height: 50px;\n`;\n_c12 = RoomsBoxPrice;\nconst RoomsBoxStarts = styled.div`\n  color: black;\n  font-weight: 500;\n  font-size: 15px;\n  margin-top: 4px;\n`;\n_c13 = RoomsBoxStarts;\nconst RoomsBoxFirstRow = styled.div`\n  display: flex;\n  margin: 20px 20px 0px 20px;\n  padding: 10px;\n  justify-content: space-between;\n`;\n_c14 = RoomsBoxFirstRow;\nconst Equipment = styled.div`\n  display: flex;\n  width: 60%;\n  margin-left: 50px;\n`;\n_c15 = Equipment;\nconst EquipmentArea = styled.div`\n  border-radius: 7px;\n  border: 1px solid rgb(221, 221, 221);\n  width: 27%;\n  height: 350px;\n  margin-right: 20px;\n  margin-top: -250px;\n`;\n_c16 = EquipmentArea;\nconst ReviewerImage = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n`;\n_c17 = ReviewerImage;\nconst RoomDetailArea = styled.div`\n  margin: 30px 10px 10px 70px;\n`;\n_c18 = RoomDetailArea;\nconst MapArea = styled.div`\n  margin-bottom: 30px;\n`;\n_c19 = MapArea;\n\nfunction RoomDetail() {\n  _s();\n\n  var _item$collectionBy;\n\n  const {\n    itemID\n  } = useParams();\n  const [item, setItem] = React.useState({});\n  const [startDate, setStartDate] = React.useState(\"\");\n  const [endDate, setEndDate] = React.useState(\"\");\n  const [count, setCount] = React.useState(0);\n  const [comment, setComment] = React.useState([]);\n  const {\n    url\n  } = useRouteMatch();\n  const history = useHistory(); // const [count, setCount] = useState(0);\n\n  React.useEffect(() => {\n    firebase.firestore().collection(\"product\").doc(itemID).onSnapshot(docSnapshot => {\n      const data = docSnapshot.data();\n      setItem(data);\n    }); // .get()\n    // .then((docSnapshot) => {\n    //   const data = docSnapshot.data();\n    //   setItem(data);\n    // });\n  }, []);\n  React.useEffect(() => {\n    firebase.firestore().collection(\"comment\").where(\"itemID\", \"==\", itemID).get().then(snapshot => {\n      console.log(typeof snapshot);\n      snapshot.forEach(doc => {\n        const data = doc.data();\n        console.log(data);\n        setComment(comment => [...comment, data]);\n      });\n    });\n  }, []);\n\n  function toggleCollection() {\n    const uid = firebase.auth().currentUser.uid;\n\n    if (isCollected) {\n      firebase.firestore().collection(\"product\").doc(itemID).update({\n        collectionBy: firebase.firestore.FieldValue.arrayRemove(uid)\n      });\n    } else {\n      firebase.firestore().collection(\"product\").doc(itemID).update({\n        collectionBy: firebase.firestore.FieldValue.arrayUnion(uid)\n      });\n    }\n  }\n\n  const isCollected = (_item$collectionBy = item.collectionBy) === null || _item$collectionBy === void 0 ? void 0 : _item$collectionBy.includes(firebase.auth().currentUser.uid);\n\n  function onSubmit() {\n    // const documentRef = firebase.firestore().collection(\"order\").doc();\n    const orderID = firebase.firestore().collection(\"order\").doc().id;\n\n    if (startDate === \"\") {\n      Swal.fire(\"請選擇入住時間\");\n    } else if (endDate === \"\") {\n      Swal.fire(\"請輸入退房時間\");\n    } else if (count === 0) {\n      Swal.fire(\"請選擇入住人數\");\n    } else {\n      firebase.firestore().collection(\"order\").doc(orderID).set({\n        startDate,\n        endDate,\n        uid: firebase.auth().currentUser.uid,\n        id: itemID,\n        count\n      }).then(() => {\n        history.push(`${url}/order/${orderID}`);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rooms__detail__container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rooms__detail__wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rooms__detail__introduce\",\n        children: [/*#__PURE__*/_jsxDEV(RoomDetailArea, {\n          children: [/*#__PURE__*/_jsxDEV(RoomsDetailBox, {\n            children: [/*#__PURE__*/_jsxDEV(RoomsDetailName, {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rooms__name__info\",\n              children: [/*#__PURE__*/_jsxDEV(RoomsDetailStars, {\n                children: [\"\\u2605\", item.stars, \" (\", comment.length, \" comments)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RoomsDetailAddress, {\n                children: [\"\\u2332\", item.address]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Like, {\n                onClick: toggleCollection,\n                style: isCollected ? {\n                  color: \"red\"\n                } : {\n                  color: \"grey\"\n                },\n                children: /*#__PURE__*/_jsxDEV(BsFillHeartFill, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rooms__detail__carousel\",\n              children: /*#__PURE__*/_jsxDEV(RoomsDetailImage, {\n                src: item.imageURL\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rooms__owner\",\n              children: [/*#__PURE__*/_jsxDEV(RoomsOwnerName, {\n                children: \"Hosted by Victor Chen\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rooms__stick\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rooms__owner__detail\",\n                  children: /*#__PURE__*/_jsxDEV(RoomsOwnerIntroduce, {\n                    children: item.comment\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rooms__detail__check\",\n                  children: /*#__PURE__*/_jsxDEV(RoomsCheckBox, {\n                    children: [/*#__PURE__*/_jsxDEV(RoomsBoxFirstRow, {\n                      children: [/*#__PURE__*/_jsxDEV(RoomsBoxPrice, {\n                        children: [\"NT.\", item.price, \"/\\u665A\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 284,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(RoomsBoxStarts, {\n                        children: [\"\\u2605\", item.stars, \" (\", comment.length, \" comments)\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"rooms__box__date\",\n                      children: /*#__PURE__*/_jsxDEV(DateRangePickerExample, {\n                        startDate: startDate,\n                        setStartDate: setStartDate,\n                        endDate: endDate,\n                        setEndDate: setEndDate\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 289,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(CuntDate, {\n                      children: /*#__PURE__*/_jsxDEV(CountNumber, {\n                        count: count,\n                        setCount: setCount\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 302,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(InstantBook // history.push(`${url}/order`)\n                    , {\n                      onClick: () => onSubmit(),\n                      children: \"Instant book\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Equipment, {\n            children: [/*#__PURE__*/_jsxDEV(EquipmentArea, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title\",\n                children: \"Campsite area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"area__point\",\n                children: \"Park at listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"area__point\",\n                children: \"Canvas tent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(EquipmentArea, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title\",\n                children: \"Essentials\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"essentials__point\",\n                children: \"Pets allowed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"essentials__point\",\n                children: \"Campfires allowed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(EquipmentArea, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"title\",\n                children: \"Amenities\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenities__point\",\n                children: \"No wifi\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenities__point\",\n                children: \"Pack out\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenities__point\",\n                children: \"Showers\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"amenities__point\",\n                children: \"Potable water\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Details\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details__title\",\n              children: \"Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"details__info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"details__points\",\n                children: \"Check in:After 3PM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"details__points\",\n                children: \"Check out:Before 12PM\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"details__points\",\n                children: \"On arrival: Meet and greet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Activities\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activities__title\",\n              children: \"Activities\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activities__sub__title\",\n              children: \"Offered on the Host's property or nearby.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"activities__box\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activities__points\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"activities__points__name\",\n                  children: \"Biking\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activities__points\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"activities__points__name\",\n                  children: \"Boating\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activities__points\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"activities__points__name\",\n                  children: \"Hiking\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activities__points\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"activities__points__name\",\n                  children: \"Padding\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"activities__points\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"activities__points__name\",\n                  children: \"Swimming\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Reviews\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reviews__title\",\n              children: [comment.length, \" Reviews\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this), comment.map((data, index) => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reviews__box\",\n                children: [data.author.photoURL ? /*#__PURE__*/_jsxDEV(ReviewerImage, {\n                  src: data.author.photoURL\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(ReviewerImage, {\n                  src: NativeReviewer\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reviewer__info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reviewer__stars\",\n                    children: [\"\\u2605\", data.rating]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reviewer__name\",\n                    children: data.author.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reviewer__comment\",\n                    children: data.review\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reviewer__date\",\n                    children: data.createdAt.toDate().toLocaleDateString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 384,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 380,\n                  columnNumber: 21\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 19\n              }, this);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MapArea, {\n          children: /*#__PURE__*/_jsxDEV(MapProductDetail, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RoomDetail, \"zQ9CplnN7MPEMvjbE8JBDX+Jmw4=\", false, function () {\n  return [useParams, useRouteMatch, useHistory];\n});\n\n_c20 = RoomDetail;\nexport default RoomDetail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20;\n\n$RefreshReg$(_c, \"Like\");\n$RefreshReg$(_c2, \"CuntDate\");\n$RefreshReg$(_c3, \"InstantBook\");\n$RefreshReg$(_c4, \"RoomsDetailName\");\n$RefreshReg$(_c5, \"RoomsDetailBox\");\n$RefreshReg$(_c6, \"RoomsDetailImage\");\n$RefreshReg$(_c7, \"RoomsDetailStars\");\n$RefreshReg$(_c8, \"RoomsDetailAddress\");\n$RefreshReg$(_c9, \"RoomsOwnerName\");\n$RefreshReg$(_c10, \"RoomsOwnerIntroduce\");\n$RefreshReg$(_c11, \"RoomsCheckBox\");\n$RefreshReg$(_c12, \"RoomsBoxPrice\");\n$RefreshReg$(_c13, \"RoomsBoxStarts\");\n$RefreshReg$(_c14, \"RoomsBoxFirstRow\");\n$RefreshReg$(_c15, \"Equipment\");\n$RefreshReg$(_c16, \"EquipmentArea\");\n$RefreshReg$(_c17, \"ReviewerImage\");\n$RefreshReg$(_c18, \"RoomDetailArea\");\n$RefreshReg$(_c19, \"MapArea\");\n$RefreshReg$(_c20, \"RoomDetail\");","map":{"version":3,"sources":["/Users/victorchen/Desktop/react-test/my-app/src/components/RoomDetail.js"],"names":["React","useParams","useRouteMatch","useHistory","MapProductDetail","firebase","styled","BsFillHeartFill","DateRangePickerExample","CountNumber","Swal","NativeReviewer","Like","button","CuntDate","div","InstantBook","RoomsDetailName","RoomsDetailBox","RoomsDetailImage","img","RoomsDetailStars","RoomsDetailAddress","RoomsOwnerName","RoomsOwnerIntroduce","RoomsCheckBox","RoomsBoxPrice","RoomsBoxStarts","RoomsBoxFirstRow","Equipment","EquipmentArea","ReviewerImage","RoomDetailArea","MapArea","RoomDetail","itemID","item","setItem","useState","startDate","setStartDate","endDate","setEndDate","count","setCount","comment","setComment","url","history","useEffect","firestore","collection","doc","onSnapshot","docSnapshot","data","where","get","then","snapshot","console","log","forEach","toggleCollection","uid","auth","currentUser","isCollected","update","collectionBy","FieldValue","arrayRemove","arrayUnion","includes","onSubmit","orderID","id","fire","set","push","name","stars","length","address","color","imageURL","price","map","index","author","photoURL","rating","email","review","createdAt","toDate","toLocaleDateString"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./RoomDetail.css\";\nimport { useParams, useRouteMatch, useHistory } from \"react-router-dom\";\n\nimport MapProductDetail from \"./MapProductDetail\";\nimport firebase from \"firebase\";\nimport styled from \"styled-components\";\nimport { BsFillHeartFill } from \"react-icons/bs\";\nimport DateRangePickerExample from \"./DateRangePickExample\";\nimport CountNumber from \"./\bCountNumber\";\nimport Swal from \"sweetalert2/dist/sweetalert2.js\";\nimport NativeReviewer from \"../imge/tent.png\";\n\nconst Like = styled.button`\n  border: none;\n  padding-right: 10px;\n  padding-left: 10px;\n  padding-top: 8px;\n  border-radius: 50%;\n  font-size: 20px;\n  margin-left: 20px;\n  cursor: pointer;\n`;\n\nconst CuntDate = styled.div`\n  margin-top: 20px;\n`;\n\nconst InstantBook = styled.button`\n  color: #00bfac;\n  background: white;\n\n  /* justify-content: center; */\n  position: relative;\n  border: 1px solid #00bfac;\n  width: 293px;\n\n  border-radius: 5px;\n  font-size: 15px;\n  font-weight: 700;\n  height: 50px;\n  margin: 20px 30px;\n  cursor: pointer;\n  &:hover {\n    border: 1px solid #00bfac;\n    background: #00bfac;\n    color: white;\n  }\n`;\n\nconst RoomsDetailName = styled.div`\n  font-size: 30px;\n  font-family: \"Montserrat\", sans-serif;\n  font-weight: 500;\n  width: 100%;\n`;\n\nconst RoomsDetailBox = styled.div`\n  margin: 50px;\n  padding: 10px;\n`;\n\nconst RoomsDetailImage = styled.img`\n  width: 88%;\n  height: 450px;\n  margin: 5px;\n  object-fit: cover;\n  border-radius: 7px;\n  margin-right: 10px;\n`;\n\nconst RoomsDetailStars = styled.div`\n  color: black;\n  padding: 10px 0;\n  font-weight: 500;\n`;\n\nconst RoomsDetailAddress = styled.div`\n  color: rgb(151, 145, 145);\n  padding: 10px 0;\n  margin-top: -2px;\n  margin-left: 10px;\n`;\n\nconst RoomsOwnerName = styled.div`\n  margin-top: 10px;\n  font-size: 20px;\n  font-weight: 500;\n  color: gray;\n`;\n\nconst RoomsOwnerIntroduce = styled.div`\n  font-size: 15px;\n  width: 90%;\n  margin-top: 10px;\n`;\n\nconst RoomsCheckBox = styled.div`\n  margin: 5px 150px 10px 30px;\n  border-radius: 12px;\n  box-shadow: rgb(0 0 0 / 12%) 0px 6px 16px;\n  border-style: solid;\n  border: 1px solid rgb(221, 221, 221);\n  width: 350px;\n  height: 320px;\n`;\n\nconst RoomsBoxPrice = styled.div`\n  font-size: 20px;\n  font-weight: 600;\n  height: 50px;\n`;\n\nconst RoomsBoxStarts = styled.div`\n  color: black;\n  font-weight: 500;\n  font-size: 15px;\n  margin-top: 4px;\n`;\n\nconst RoomsBoxFirstRow = styled.div`\n  display: flex;\n  margin: 20px 20px 0px 20px;\n  padding: 10px;\n  justify-content: space-between;\n`;\n\nconst Equipment = styled.div`\n  display: flex;\n  width: 60%;\n  margin-left: 50px;\n`;\n\nconst EquipmentArea = styled.div`\n  border-radius: 7px;\n  border: 1px solid rgb(221, 221, 221);\n  width: 27%;\n  height: 350px;\n  margin-right: 20px;\n  margin-top: -250px;\n`;\n\nconst ReviewerImage = styled.img`\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n`;\n\nconst RoomDetailArea = styled.div`\n  margin: 30px 10px 10px 70px;\n`;\n\nconst MapArea = styled.div`\n  margin-bottom: 30px;\n`;\n\nfunction RoomDetail() {\n  const { itemID } = useParams();\n  const [item, setItem] = React.useState({});\n  const [startDate, setStartDate] = React.useState(\"\");\n  const [endDate, setEndDate] = React.useState(\"\");\n  const [count, setCount] = React.useState(0);\n  const [comment, setComment] = React.useState([]);\n  const { url } = useRouteMatch();\n  const history = useHistory();\n\n  // const [count, setCount] = useState(0);\n\n  React.useEffect(() => {\n    firebase\n      .firestore()\n      .collection(\"product\")\n      .doc(itemID)\n      .onSnapshot((docSnapshot) => {\n        const data = docSnapshot.data();\n        setItem(data);\n      });\n    // .get()\n    // .then((docSnapshot) => {\n    //   const data = docSnapshot.data();\n    //   setItem(data);\n    // });\n  }, []);\n\n  React.useEffect(() => {\n    firebase\n      .firestore()\n      .collection(\"comment\")\n      .where(\"itemID\", \"==\", itemID)\n      .get()\n      .then((snapshot) => {\n        console.log(typeof snapshot);\n        snapshot.forEach((doc) => {\n          const data = doc.data();\n          console.log(data);\n          setComment((comment) => [...comment, data]);\n        });\n      });\n  }, []);\n\n  function toggleCollection() {\n    const uid = firebase.auth().currentUser.uid;\n    if (isCollected) {\n      firebase\n        .firestore()\n        .collection(\"product\")\n        .doc(itemID)\n        .update({\n          collectionBy: firebase.firestore.FieldValue.arrayRemove(uid),\n        });\n    } else {\n      firebase\n        .firestore()\n        .collection(\"product\")\n        .doc(itemID)\n        .update({\n          collectionBy: firebase.firestore.FieldValue.arrayUnion(uid),\n        });\n    }\n  }\n\n  const isCollected = item.collectionBy?.includes(\n    firebase.auth().currentUser.uid\n  );\n\n  function onSubmit() {\n    // const documentRef = firebase.firestore().collection(\"order\").doc();\n    const orderID = firebase.firestore().collection(\"order\").doc().id;\n    if (startDate === \"\") {\n      Swal.fire(\"請選擇入住時間\");\n    } else if (endDate === \"\") {\n      Swal.fire(\"請輸入退房時間\");\n    } else if (count === 0) {\n      Swal.fire(\"請選擇入住人數\");\n    } else {\n      firebase\n        .firestore()\n        .collection(\"order\")\n        .doc(orderID)\n        .set({\n          startDate,\n          endDate,\n          uid: firebase.auth().currentUser.uid,\n          id: itemID,\n          count,\n        })\n        .then(() => {\n          history.push(`${url}/order/${orderID}`);\n        });\n    }\n  }\n\n  return (\n    <div className=\"rooms__detail__container\">\n      <div className=\"rooms__detail__wrapper\">\n        <div className=\"rooms__detail__introduce\">\n          <RoomDetailArea>\n            <RoomsDetailBox>\n              <RoomsDetailName>{item.name}</RoomsDetailName>\n              <div className=\"rooms__name__info\">\n                <RoomsDetailStars>\n                  ★{item.stars} ({comment.length} comments)\n                </RoomsDetailStars>\n                <RoomsDetailAddress>⌲{item.address}</RoomsDetailAddress>\n                <Like\n                  onClick={toggleCollection}\n                  style={isCollected ? { color: \"red\" } : { color: \"grey\" }}\n                >\n                  <BsFillHeartFill />\n                </Like>\n              </div>\n              <div className=\"rooms__detail__carousel\">\n                <RoomsDetailImage src={item.imageURL} />\n              </div>\n              <div className=\"rooms__owner\">\n                <RoomsOwnerName>Hosted by Victor Chen</RoomsOwnerName>\n                <div className=\"rooms__stick\">\n                  <div className=\"rooms__owner__detail\">\n                    <RoomsOwnerIntroduce>{item.comment}</RoomsOwnerIntroduce>\n                  </div>\n                  <div className=\"rooms__detail__check\">\n                    <RoomsCheckBox>\n                      <RoomsBoxFirstRow>\n                        <RoomsBoxPrice>NT.{item.price}/晚</RoomsBoxPrice>\n                        <RoomsBoxStarts>\n                          ★{item.stars} ({comment.length} comments)\n                        </RoomsBoxStarts>\n                      </RoomsBoxFirstRow>\n                      <div className=\"rooms__box__date\">\n                        {/* <SubTitle>入住時間</SubTitle> */}\n                        <DateRangePickerExample\n                          startDate={startDate}\n                          setStartDate={setStartDate}\n                          endDate={endDate}\n                          setEndDate={setEndDate}\n                        />\n                        {/* <input className=\"checkin\" placeholder=\"Check in\" />\n                      <input className=\"checkout\" placeholder=\"Check out\" /> */}\n                      </div>\n                      {/* <SubTitle>入住人數</SubTitle> */}\n                      <CuntDate>\n                        <CountNumber count={count} setCount={setCount} />\n                      </CuntDate>\n                      <InstantBook\n                        // history.push(`${url}/order`)\n                        onClick={() => onSubmit()}\n                      >\n                        Instant book\n                      </InstantBook>\n                    </RoomsCheckBox>\n                  </div>\n                </div>\n              </div>\n            </RoomsDetailBox>\n            <Equipment>\n              <EquipmentArea>\n                <div className=\"title\">Campsite area</div>\n                <div className=\"area__point\">Park at listing</div>\n                <div className=\"area__point\">Canvas tent</div>\n              </EquipmentArea>\n              <EquipmentArea>\n                <div className=\"title\">Essentials</div>\n\n                <div className=\"essentials__point\">Pets allowed</div>\n                <div className=\"essentials__point\">Campfires allowed</div>\n              </EquipmentArea>\n              <EquipmentArea>\n                <div className=\"title\">Amenities</div>\n\n                <div className=\"amenities__point\">No wifi</div>\n                <div className=\"amenities__point\">Pack out</div>\n                <div className=\"amenities__point\">Showers</div>\n                <div className=\"amenities__point\">Potable water</div>\n              </EquipmentArea>\n            </Equipment>\n            <div className=\"Details\">\n              <div className=\"details__title\">Details</div>\n              <div className=\"details__info\">\n                <div className=\"details__points\">Check in:After 3PM</div>\n                <div className=\"details__points\">Check out:Before 12PM</div>\n                <div className=\"details__points\">\n                  On arrival: Meet and greet\n                </div>\n              </div>\n            </div>\n            <div className=\"Activities\">\n              <div className=\"activities__title\">Activities</div>\n              <div className=\"activities__sub__title\">\n                Offered on the Host's property or nearby.\n              </div>\n              <div className=\"activities__box\">\n                <div className=\"activities__points\">\n                  <div className=\"activities__points__name\">Biking</div>\n                </div>\n                <div className=\"activities__points\">\n                  <div className=\"activities__points__name\">Boating</div>\n                </div>\n                <div className=\"activities__points\">\n                  <div className=\"activities__points__name\">Hiking</div>\n                </div>\n                <div className=\"activities__points\">\n                  <div className=\"activities__points__name\">Padding</div>\n                </div>\n                <div className=\"activities__points\">\n                  <div className=\"activities__points__name\">Swimming</div>\n                </div>\n              </div>\n            </div>\n            <div className=\"Reviews\">\n              <div className=\"reviews__title\">{comment.length} Reviews</div>\n              {comment.map((data, index) => {\n                return (\n                  <div className=\"reviews__box\" key={index}>\n                    {data.author.photoURL ? (\n                      <ReviewerImage src={data.author.photoURL} />\n                    ) : (\n                      <ReviewerImage src={NativeReviewer} />\n                    )}\n\n                    <div className=\"reviewer__info\">\n                      <div className=\"reviewer__stars\">★{data.rating}</div>\n                      <div className=\"reviewer__name\">{data.author.email}</div>\n                      <div className=\"reviewer__comment\">{data.review}</div>\n                      <div className=\"reviewer__date\">\n                        {data.createdAt.toDate().toLocaleDateString()}\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </RoomDetailArea>\n          <MapArea>\n            <MapProductDetail />\n          </MapArea>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default RoomDetail;\n"]},"metadata":{},"sourceType":"module"}